### 1

#### a

$$\frac{128}{32}=4$$

#### b

$$4*\frac{1024+128-1}{128}=32$$

#### c

| warp | i                | active | divergent |
| ---- | ---------------- | ------ | --------- |
| 0    | 0~31             | yes    | no        |
| 1    | 32\~39,40\~63    | yes    | yes       |
| 2    | 64~95            | no     | no        |
| 3    | 96\~103,104\~127 | yes    | yes       |
| 4~31 | 128~1023         | yes    | no        |

##### i

31

##### ii

2

##### iii

$$100%$$

##### iv

$$\frac{39-32+1}{32}=25\%$$

##### v

$$\frac{127-104+1}{32}=75\%$$

#### d

##### i

32

##### ii

32

##### iii

$$50%$$

#### e

| i    | iterations |
| ---- | ---------- |
| 0    | 5          |
| 1    | 4          |
| 2    | 3          |
| 3    | 5          |
| 4    | 4          |
| 5    | 3          |
| ...  |            |

##### i

3

##### ii

2

### 2

$$\frac{2000+512-1}{512}*512=2048$$

### 3

| block | warp  | i                     | divergent |
| ----- | ----- | --------------------- | --------- |
| 0~2   | 0~47  | 0~1535                | no        |
| 3     | 48~61 | 1536~1983             | no        |
| 3     | 62    | 1984\~1999,2000\~2015 | yes       |
| 3     | 63    | 2016~2047             | no        |

1

### 4

time = 3.0

$$1-\frac{2+2.3+3+2.8+2.4+1.9+2.6+2.9}{3*8}\approx 17\%$$

### 5

No. It maybe leads to dead lock.

### 6

C

### 7

all

#### a

$$\frac{8*128}{2048}=50\%$$

#### b

$$\frac{16*64}{2048}=50\%$$

#### c

$$\frac{32*32}{2048}=50\%$$

#### d

$$\frac{64*32}{2048}=100\%$$

#### e

$$\frac{32*64}{2048}=100\%$$

### 8

#### a

yes, need 16 blocks; 61440 registers.

#### b

no, need 64 **block**s; 59392 registers.

#### c

no, need 8 blocks; 69632 **register**s.

### 9

Thread blocks is not enough. We need at least $$\frac{1024*1024}{512}=2048$$ thread blocks. He got only $$32*32=1024$$.
